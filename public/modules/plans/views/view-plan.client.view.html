<section data-ng-controller="PlansController" data-ng-init="findOne()">
	<div class="page-header">
		<h1 data-ng-bind="plan.name"></h1>
	</div>
    <div class="panel panel-default">
        <div class="panel-body clearfix">
            <div class="pull-right" data-ng-show="((authentication.user) && (authentication.user._id == plan.user._id))">
                <a class="btn btn-primary" href="/#!/plans/{{plan._id}}/edit">
                    <i class="glyphicon glyphicon-edit"></i>
                </a>
                <a class="btn btn-primary" data-ng-click="remove();">
                    <i class="glyphicon glyphicon-trash"></i>
                </a>
            </div>
            <dl class="dl-horizontal">
                <dt>Business</dt>
                <dd data-ng-bind="plan.business"></dd>
                <dt>Amount</dt>
                <dd data-ng-bind="plan.amount | currency"></dd>
                <dt>Type</dt>
                <dd data-ng-bind="plan.type"></dd>
                <dt>Starts</dt>
                <dd data-ng-bind="plan.schedule.date"></dd>
                <dt data-ng-if="plan.schedule.recurrence">Recurs Every</dt>
                <dd data-ng-if="plan.schedule.recurrence" data-ng-bind="plan.schedule.recurrenceType === 'X_DAYS' ? (plan.schedule.recurrenceDays + ' days') : 'month'"></dd>
            </dl>
        </div>
        <div class="panel-footer">
            <small>
                <em class="text-muted">
                    Posted on
                    <span data-ng-bind="plan.created | date:'mediumDate'"></span>
                    by
                    <span data-ng-bind="plan.user.displayName"></span>
                </em>
            </small>
        </div>
    </div>
</section>
